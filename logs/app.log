{"timestamp": "2025-11-26T11:07:21.915969Z", "level": "INFO", "logger": "app", "module": "extensions", "message": "Logging JSON inizializzato.", "extra": {"taskName": null, "component": "logging", "log_path": "D:\\Progetto_Database_Acquisti\\logs\\app.log", "level": "DEBUG"}}
{"timestamp": "2025-11-26T11:07:22.627102Z", "level": "INFO", "logger": "app", "module": "__init__", "message": "Applicazione Flask inizializzata.", "extra": {"taskName": null, "component": "app_factory", "env": "development"}}
{"timestamp": "2025-11-26T11:07:56.805776Z", "level": "INFO", "logger": "app", "module": "extensions", "message": "Logging JSON inizializzato.", "extra": {"taskName": null, "component": "logging", "log_path": "D:\\Progetto_Database_Acquisti\\logs\\app.log", "level": "DEBUG"}}
{"timestamp": "2025-11-26T11:07:56.884156Z", "level": "INFO", "logger": "app", "module": "__init__", "message": "Applicazione Flask inizializzata.", "extra": {"taskName": null, "component": "app_factory", "env": "development"}}
{"timestamp": "2025-11-26T11:07:57.229245Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "\u001b[31m\u001b[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.\u001b[0m\n * Running on all addresses (0.0.0.0)\n * Running on http://127.0.0.1:5000\n * Running on http://192.168.1.57:5000", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:07:57.229658Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "\u001b[33mPress CTRL+C to quit\u001b[0m", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:07:57.235253Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": " * Restarting with stat", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:07:58.501282Z", "level": "INFO", "logger": "app", "module": "extensions", "message": "Logging JSON inizializzato.", "extra": {"taskName": null, "component": "logging", "log_path": "D:\\Progetto_Database_Acquisti\\logs\\app.log", "level": "DEBUG"}}
{"timestamp": "2025-11-26T11:07:58.604950Z", "level": "INFO", "logger": "app", "module": "__init__", "message": "Applicazione Flask inizializzata.", "extra": {"taskName": null, "component": "app_factory", "env": "development"}}
{"timestamp": "2025-11-26T11:07:58.649348Z", "level": "WARNING", "logger": "werkzeug", "module": "_internal", "message": " * Debugger is active!", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:07:58.656517Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": " * Debugger PIN: 177-639-067", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:12.553514Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:12] \"GET / HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:13.113858Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:13] \"GET /static/css/tables.css HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:13.116845Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:13] \"GET /static/css/main.css HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:13.140505Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:13] \"GET /static/css/forms.css HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:13.155512Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:13] \"GET /static/js/filters.js HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:13.174284Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:13] \"GET /static/js/main.js HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:13.341512Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:13] \"\u001b[33mGET /favicon.ico HTTP/1.1\u001b[0m\" 404 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:24.252259Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:24] \"\u001b[35m\u001b[1mGET /suppliers/ HTTP/1.1\u001b[0m\" 500 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:24.334653Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:24] \"GET /suppliers/?__debugger__=yes&cmd=resource&f=style.css HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:24.371376Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:24] \"GET /suppliers/?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:24.595189Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:24] \"GET /suppliers/?__debugger__=yes&cmd=resource&f=console.png&s=QGuVKtyEZyHNKlDkzdSp HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:24.632864Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:24] \"GET /suppliers/?__debugger__=yes&cmd=resource&f=console.png HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:33.110668Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:33] \"\u001b[35m\u001b[1mGET /invoices/ HTTP/1.1\u001b[0m\" 500 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:33.209969Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:33] \"GET /invoices/?__debugger__=yes&cmd=resource&f=style.css HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:33.217693Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:33] \"GET /invoices/?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:33.294652Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:33] \"GET /invoices/?__debugger__=yes&cmd=resource&f=console.png&s=QGuVKtyEZyHNKlDkzdSp HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:33.362621Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:33] \"GET /invoices/?__debugger__=yes&cmd=resource&f=console.png HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:34.612264Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:34] \"\u001b[35m\u001b[1mGET /suppliers/ HTTP/1.1\u001b[0m\" 500 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:34.666102Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:34] \"\u001b[36mGET /suppliers/?__debugger__=yes&cmd=resource&f=style.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:34.666656Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:34] \"\u001b[36mGET /suppliers/?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:34.742726Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:34] \"\u001b[36mGET /suppliers/?__debugger__=yes&cmd=resource&f=console.png&s=QGuVKtyEZyHNKlDkzdSp HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:36.163613Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:36] \"\u001b[35m\u001b[1mGET /categories/ HTTP/1.1\u001b[0m\" 500 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:36.217453Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:36] \"GET /categories/?__debugger__=yes&cmd=resource&f=style.css HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:36.221023Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:36] \"GET /categories/?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:36.336966Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:36] \"GET /categories/?__debugger__=yes&cmd=resource&f=console.png&s=QGuVKtyEZyHNKlDkzdSp HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:36.379834Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:36] \"GET /categories/?__debugger__=yes&cmd=resource&f=console.png HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:38.111198Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:38] \"GET /import/run HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:38.184686Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:38] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:38.185957Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:38] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:38.191311Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:38] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:38.192663Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:38] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:38.211638Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:38] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:40.671509Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:40] \"GET /export/ HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:40.744817Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:40] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:40.747189Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:40] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:40.748228Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:40] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:40.760437Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:40] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:40.763200Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:40] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:46.277950Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:46] \"GET /import/run HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:46.345979Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:46] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:46.346761Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:46] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:46.348284Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:46] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:46.349609Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:46] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:08:46.372762Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:08:46] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:09:02.401935Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:09:02] \"\u001b[35m\u001b[1mPOST /import/run HTTP/1.1\u001b[0m\" 500 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:09:02.451178Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:09:02] \"GET /import/run?__debugger__=yes&cmd=resource&f=style.css HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:09:02.452567Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:09:02] \"GET /import/run?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:09:02.616769Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:09:02] \"GET /import/run?__debugger__=yes&cmd=resource&f=console.png&s=QGuVKtyEZyHNKlDkzdSp HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:09:02.640615Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:09:02] \"GET /import/run?__debugger__=yes&cmd=resource&f=console.png HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:37.815060Z", "level": "INFO", "logger": "app", "module": "extensions", "message": "Logging JSON inizializzato.", "extra": {"taskName": null, "component": "logging", "log_path": "D:\\Progetto_Database_Acquisti\\logs\\app.log", "level": "DEBUG"}}
{"timestamp": "2025-11-26T11:11:38.032758Z", "level": "INFO", "logger": "app", "module": "__init__", "message": "Applicazione Flask inizializzata.", "extra": {"taskName": null, "component": "app_factory", "env": "development"}}
{"timestamp": "2025-11-26T11:11:49.844675Z", "level": "INFO", "logger": "app", "module": "extensions", "message": "Logging JSON inizializzato.", "extra": {"taskName": null, "component": "logging", "log_path": "D:\\Progetto_Database_Acquisti\\logs\\app.log", "level": "DEBUG"}}
{"timestamp": "2025-11-26T11:11:49.936988Z", "level": "INFO", "logger": "app", "module": "__init__", "message": "Applicazione Flask inizializzata.", "extra": {"taskName": null, "component": "app_factory", "env": "development"}}
{"timestamp": "2025-11-26T11:11:50.008144Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "\u001b[31m\u001b[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.\u001b[0m\n * Running on all addresses (0.0.0.0)\n * Running on http://127.0.0.1:5000\n * Running on http://192.168.1.57:5000", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:50.008514Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "\u001b[33mPress CTRL+C to quit\u001b[0m", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:50.011898Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": " * Restarting with stat", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:51.143299Z", "level": "INFO", "logger": "app", "module": "extensions", "message": "Logging JSON inizializzato.", "extra": {"taskName": null, "component": "logging", "log_path": "D:\\Progetto_Database_Acquisti\\logs\\app.log", "level": "DEBUG"}}
{"timestamp": "2025-11-26T11:11:51.235200Z", "level": "INFO", "logger": "app", "module": "__init__", "message": "Applicazione Flask inizializzata.", "extra": {"taskName": null, "component": "app_factory", "env": "development"}}
{"timestamp": "2025-11-26T11:11:51.279483Z", "level": "WARNING", "logger": "werkzeug", "module": "_internal", "message": " * Debugger is active!", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:51.287734Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": " * Debugger PIN: 177-639-067", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:54.503505Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:11:54] \"\u001b[35m\u001b[1mPOST /import/run HTTP/1.1\u001b[0m\" 500 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:54.614151Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:11:54] \"\u001b[36mGET /import/run?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:54.657718Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:11:54] \"\u001b[36mGET /import/run?__debugger__=yes&cmd=resource&f=style.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:54.759329Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:11:54] \"GET /import/run?__debugger__=yes&cmd=resource&f=console.png&s=c9h4iHRs26jWm9CI3f7S HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:54.829545Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:11:54] \"\u001b[36mGET /import/run?__debugger__=yes&cmd=resource&f=console.png HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:57.315610Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:11:57] \"GET / HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:57.378417Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:11:57] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:57.380796Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:11:57] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:57.386438Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:11:57] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:57.389747Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:11:57] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:57.400994Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:11:57] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:58.749221Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:11:58] \"GET /import/run HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:58.823553Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:11:58] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:58.829735Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:11:58] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:58.837419Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:11:58] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:58.841972Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:11:58] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:11:58.845828Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:11:58] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:12:01.752591Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:12:01] \"\u001b[35m\u001b[1mPOST /import/run HTTP/1.1\u001b[0m\" 500 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:12:01.803917Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:12:01] \"\u001b[36mGET /import/run?__debugger__=yes&cmd=resource&f=style.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:12:01.811899Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:12:01] \"\u001b[36mGET /import/run?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:12:01.894496Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:12:01] \"\u001b[36mGET /import/run?__debugger__=yes&cmd=resource&f=console.png&s=c9h4iHRs26jWm9CI3f7S HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:12:01.955029Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:12:01] \"\u001b[36mGET /import/run?__debugger__=yes&cmd=resource&f=console.png HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:18.943719Z", "level": "INFO", "logger": "app", "module": "extensions", "message": "Logging JSON inizializzato.", "extra": {"taskName": null, "component": "logging", "log_path": "D:\\Progetto_Database_Acquisti\\logs\\app.log", "level": "DEBUG"}}
{"timestamp": "2025-11-26T11:14:19.028734Z", "level": "INFO", "logger": "app", "module": "__init__", "message": "Applicazione Flask inizializzata.", "extra": {"taskName": null, "component": "app_factory", "env": "development"}}
{"timestamp": "2025-11-26T11:14:19.076378Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "\u001b[31m\u001b[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.\u001b[0m\n * Running on all addresses (0.0.0.0)\n * Running on http://127.0.0.1:5000\n * Running on http://192.168.1.57:5000", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:19.076742Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "\u001b[33mPress CTRL+C to quit\u001b[0m", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:19.078921Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": " * Restarting with stat", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:20.043148Z", "level": "INFO", "logger": "app", "module": "extensions", "message": "Logging JSON inizializzato.", "extra": {"taskName": null, "component": "logging", "log_path": "D:\\Progetto_Database_Acquisti\\logs\\app.log", "level": "DEBUG"}}
{"timestamp": "2025-11-26T11:14:20.120952Z", "level": "INFO", "logger": "app", "module": "__init__", "message": "Applicazione Flask inizializzata.", "extra": {"taskName": null, "component": "app_factory", "env": "development"}}
{"timestamp": "2025-11-26T11:14:20.143410Z", "level": "WARNING", "logger": "werkzeug", "module": "_internal", "message": " * Debugger is active!", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:20.146822Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": " * Debugger PIN: 177-639-067", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:30.922134Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:30] \"\u001b[35m\u001b[1mGET /suppliers/ HTTP/1.1\u001b[0m\" 500 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:31.311006Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:31] \"\u001b[36mGET /suppliers/?__debugger__=yes&cmd=resource&f=style.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:31.323687Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:31] \"\u001b[36mGET /suppliers/?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:31.486731Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:31] \"GET /suppliers/?__debugger__=yes&cmd=resource&f=console.png&s=7AsGYKn1X2bt06AL7fmp HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:37.673155Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:37] \"\u001b[35m\u001b[1mGET /categories/ HTTP/1.1\u001b[0m\" 500 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:37.726232Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:37] \"\u001b[36mGET /categories/?__debugger__=yes&cmd=resource&f=style.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:37.726791Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:37] \"\u001b[36mGET /categories/?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:37.786968Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:37] \"GET /categories/?__debugger__=yes&cmd=resource&f=console.png&s=7AsGYKn1X2bt06AL7fmp HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:38.924393Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:38] \"\u001b[35m\u001b[1mGET /suppliers/ HTTP/1.1\u001b[0m\" 500 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:38.985116Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:38] \"\u001b[36mGET /suppliers/?__debugger__=yes&cmd=resource&f=style.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:38.987216Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:38] \"\u001b[36mGET /suppliers/?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:39.071478Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:39] \"\u001b[36mGET /suppliers/?__debugger__=yes&cmd=resource&f=console.png&s=7AsGYKn1X2bt06AL7fmp HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:40.058314Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:40] \"\u001b[35m\u001b[1mGET /invoices/ HTTP/1.1\u001b[0m\" 500 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:40.109179Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:40] \"\u001b[36mGET /invoices/?__debugger__=yes&cmd=resource&f=style.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:40.109897Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:40] \"\u001b[36mGET /invoices/?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:40.198748Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:40] \"GET /invoices/?__debugger__=yes&cmd=resource&f=console.png&s=7AsGYKn1X2bt06AL7fmp HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:41.322858Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:41] \"GET /export/ HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:41.394964Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:41] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:41.400782Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:41] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:41.402635Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:41] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:41.408557Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:41] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:41.420269Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:41] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:42.597880Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:42] \"GET /import/run HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:42.659336Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:42] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:42.667004Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:42] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:42.681960Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:42] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:42.683453Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:42] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:42.686295Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:42] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:44.765320Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:44] \"\u001b[35m\u001b[1mPOST /import/run HTTP/1.1\u001b[0m\" 500 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:44.815552Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:44] \"\u001b[36mGET /import/run?__debugger__=yes&cmd=resource&f=style.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:44.821576Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:44] \"\u001b[36mGET /import/run?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:44.885854Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:44] \"GET /import/run?__debugger__=yes&cmd=resource&f=console.png&s=7AsGYKn1X2bt06AL7fmp HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:14:44.949528Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:14:44] \"\u001b[36mGET /import/run?__debugger__=yes&cmd=resource&f=console.png HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:18:48.074954Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": " * Detected change in 'D:\\\\Progetto_Database_Acquisti\\\\manage.py', reloading", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:18:48.374828Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": " * Restarting with stat", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:19:33.656637Z", "level": "INFO", "logger": "app", "module": "extensions", "message": "Logging JSON inizializzato.", "extra": {"taskName": null, "component": "logging", "log_path": "D:\\Progetto_Database_Acquisti\\logs\\app.log", "level": "DEBUG"}}
{"timestamp": "2025-11-26T11:19:33.748968Z", "level": "INFO", "logger": "app", "module": "__init__", "message": "Applicazione Flask inizializzata.", "extra": {"taskName": null, "component": "app_factory", "env": "development"}}
{"timestamp": "2025-11-26T11:19:33.749892Z", "level": "INFO", "logger": "manage_cli", "module": "manage", "message": "Tentativo di creare tutte le tabelle nel database...", "extra": {"taskName": null, "message": "Tentativo di creare tutte le tabelle nel database..."}}
{"timestamp": "2025-11-26T11:19:35.265953Z", "level": "INFO", "logger": "manage_cli", "module": "manage", "message": "Database creato con successo.", "extra": {"taskName": null, "message": "Database creato con successo."}}
{"timestamp": "2025-11-26T11:20:50.533572Z", "level": "INFO", "logger": "app", "module": "extensions", "message": "Logging JSON inizializzato.", "extra": {"taskName": null, "component": "logging", "log_path": "D:\\Progetto_Database_Acquisti\\logs\\app.log", "level": "DEBUG"}}
{"timestamp": "2025-11-26T11:20:50.577903Z", "level": "INFO", "logger": "app", "module": "__init__", "message": "Applicazione Flask inizializzata.", "extra": {"taskName": null, "component": "app_factory", "env": "development"}}
{"timestamp": "2025-11-26T11:20:50.578590Z", "level": "INFO", "logger": "app", "module": "manage", "message": "Avvio del server su http://0.0.0.0:5000", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:20:50.654204Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "\u001b[31m\u001b[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.\u001b[0m\n * Running on all addresses (0.0.0.0)\n * Running on http://127.0.0.1:5000\n * Running on http://192.168.1.57:5000", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:20:50.654724Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "\u001b[33mPress CTRL+C to quit\u001b[0m", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:20:50.660783Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": " * Restarting with stat", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:20:51.475095Z", "level": "INFO", "logger": "app", "module": "extensions", "message": "Logging JSON inizializzato.", "extra": {"taskName": null, "component": "logging", "log_path": "D:\\Progetto_Database_Acquisti\\logs\\app.log", "level": "DEBUG"}}
{"timestamp": "2025-11-26T11:20:51.521784Z", "level": "INFO", "logger": "app", "module": "__init__", "message": "Applicazione Flask inizializzata.", "extra": {"taskName": null, "component": "app_factory", "env": "development"}}
{"timestamp": "2025-11-26T11:20:51.522650Z", "level": "INFO", "logger": "app", "module": "manage", "message": "Avvio del server su http://0.0.0.0:5000", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:20:51.548159Z", "level": "WARNING", "logger": "werkzeug", "module": "_internal", "message": " * Debugger is active!", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:20:51.554611Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": " * Debugger PIN: 177-639-067", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:20:55.698334Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:20:55] \"GET / HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:20:56.180898Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:20:56] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:20:56.187007Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:20:56] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:20:56.191689Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:20:56] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:20:56.229035Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:20:56] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:20:56.245523Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:20:56] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:20:57.669876Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:20:57] \"GET /invoices/ HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:20:57.741874Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:20:57] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:20:57.742889Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:20:57] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:20:57.745138Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:20:57] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:20:57.760377Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:20:57] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:20:57.763825Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:20:57] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:00.456346Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:00] \"GET /invoices/ HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:00.516369Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:00] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:00.518301Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:00] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:00.519769Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:00] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:00.522722Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:00] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:00.531369Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:00] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:02.592634Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:02] \"GET / HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:02.658353Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:02] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:02.660621Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:02] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:02.677600Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:02] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:02.678254Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:02] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:02.679273Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:02] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:03.699422Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:03] \"GET /import/run HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:03.769112Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:03] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:03.769836Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:03] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:03.780946Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:03] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:03.781750Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:03] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:03.787199Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:03] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:05.940812Z", "level": "ERROR", "logger": "app", "module": "import_service", "message": "Errore durante la transazione di import.", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\app\\services\\import_service.py\", line 191, in run_import\n    with db.session.begin():\n         ~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\scoping.py\", line 443, in begin\n    return self._proxied.begin(nested=nested)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1941, in begin\n    raise sa_exc.InvalidRequestError(\n        \"A transaction is already begun on this Session.\"\n    )\nsqlalchemy.exc.InvalidRequestError: A transaction is already begun on this Session.", "extra": {"taskName": null, "component": "import_service", "file_name": "FATTURA_0000661-PR_20251014_05134460657_AZ AGRICOLTURA S.R.L.xml", "status": "error"}}
{"timestamp": "2025-11-26T11:21:06.065996Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:06] \"\u001b[35m\u001b[1mPOST /import/run HTTP/1.1\u001b[0m\" 500 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:06.113185Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:06] \"\u001b[36mGET /import/run?__debugger__=yes&cmd=resource&f=style.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:06.115016Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:06] \"\u001b[36mGET /import/run?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:06.243581Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:06] \"GET /import/run?__debugger__=yes&cmd=resource&f=console.png&s=Ro6DS3mQEAaNZu9jM943 HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:06.276188Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:06] \"\u001b[36mGET /import/run?__debugger__=yes&cmd=resource&f=console.png HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:10.364501Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:10] \"GET /suppliers/ HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:10.435388Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:10] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:10.437499Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:10] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:10.438877Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:10] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:10.452692Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:10] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:10.474837Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:10] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:11.349200Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:11] \"GET /categories/ HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:11.429585Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:11] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:11.431614Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:11] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:11.432585Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:11] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:11.434631Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:11] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:11.435815Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:11] \"GET /static/js/categories_assign.js HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:11.436856Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:11] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:13.921596Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:13] \"GET /export/ HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:14.006531Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:14] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:14.016898Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:14] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:14.023409Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:14] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:14.024642Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:14] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:14.038927Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:14] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:15.194508Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:15] \"GET /invoices/ HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:15.270293Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:15] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:15.282353Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:15] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:15.284873Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:15] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:15.286718Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:15] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:21:15.293467Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:21:15] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:45.083605Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:45] \"GET /invoices/ HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:45.154312Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:45] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:45.163293Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:45] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:45.170965Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:45] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:45.172961Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:45] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:45.173757Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:45] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:46.053829Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:46] \"GET /suppliers/ HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:46.129875Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:46] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:46.142930Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:46] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:46.159773Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:46] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:46.164579Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:46] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:46.167259Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:46] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:47.588792Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:47] \"GET /import/run HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:47.660031Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:47] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:47.675798Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:47] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:47.684964Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:47] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:47.693544Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:47] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:47.738558Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:47] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:50.146785Z", "level": "ERROR", "logger": "app", "module": "import_service", "message": "Errore durante la transazione di import.", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\app\\services\\import_service.py\", line 191, in run_import\n    with db.session.begin():\n         ~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\scoping.py\", line 443, in begin\n    return self._proxied.begin(nested=nested)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1941, in begin\n    raise sa_exc.InvalidRequestError(\n        \"A transaction is already begun on this Session.\"\n    )\nsqlalchemy.exc.InvalidRequestError: A transaction is already begun on this Session.", "extra": {"taskName": null, "component": "import_service", "file_name": "FATTURA_0000661-PR_20251014_05134460657_AZ AGRICOLTURA S.R.L.xml", "status": "error"}}
{"timestamp": "2025-11-26T11:22:50.160474Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:50] \"\u001b[35m\u001b[1mPOST /import/run HTTP/1.1\u001b[0m\" 500 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:50.204556Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:50] \"\u001b[36mGET /import/run?__debugger__=yes&cmd=resource&f=style.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:50.206221Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:50] \"\u001b[36mGET /import/run?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:50.271480Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:50] \"\u001b[36mGET /import/run?__debugger__=yes&cmd=resource&f=console.png&s=Ro6DS3mQEAaNZu9jM943 HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:22:50.332443Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:22:50] \"\u001b[36mGET /import/run?__debugger__=yes&cmd=resource&f=console.png HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:25:35.246189Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": " * Detected change in 'D:\\\\Progetto_Database_Acquisti\\\\app\\\\services\\\\import_service.py', reloading", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:25:35.777347Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": " * Restarting with stat", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:25:36.852554Z", "level": "INFO", "logger": "app", "module": "extensions", "message": "Logging JSON inizializzato.", "extra": {"taskName": null, "component": "logging", "log_path": "D:\\Progetto_Database_Acquisti\\logs\\app.log", "level": "DEBUG"}}
{"timestamp": "2025-11-26T11:25:36.921231Z", "level": "INFO", "logger": "app", "module": "__init__", "message": "Applicazione Flask inizializzata.", "extra": {"taskName": null, "component": "app_factory", "env": "development"}}
{"timestamp": "2025-11-26T11:25:36.922058Z", "level": "INFO", "logger": "app", "module": "manage", "message": "Avvio del server su http://0.0.0.0:5000", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:25:36.944412Z", "level": "WARNING", "logger": "werkzeug", "module": "_internal", "message": " * Debugger is active!", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:25:36.947842Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": " * Debugger PIN: 177-639-067", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:25:46.507821Z", "level": "ERROR", "logger": "app", "module": "import_service", "message": "Errore durante la transazione di import.", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\npymysql.err.IntegrityError: (1048, \"Column 'supplier_id' cannot be null\")\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\app\\services\\import_service.py\", line 247, in run_import\n    db.session.commit()\n    ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\scoping.py\", line 597, in commit\n    return self._proxied.commit()\n           ~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\nsqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, \"Column 'supplier_id' cannot be null\")\n[SQL: INSERT INTO invoices (supplier_id, invoice_number, invoice_series, invoice_date, registration_date, total_taxable_amount, total_vat_amount, total_gross_amount, currency, doc_status, payment_status, due_date, file_name, file_hash, import_source, imported_at, notes_internal, created_at, updated_at) VALUES (%(supplier_id)s, %(invoice_number)s, %(invoice_series)s, %(invoice_date)s, %(registration_date)s, %(total_taxable_amount)s, %(total_vat_amount)s, %(total_gross_amount)s, %(currency)s, %(doc_status)s, %(payment_status)s, %(due_date)s, %(file_name)s, %(file_hash)s, %(import_source)s, %(imported_at)s, %(notes_internal)s, %(created_at)s, %(updated_at)s)]\n[parameters: {'supplier_id': None, 'invoice_number': '0000661-PR', 'invoice_series': None, 'invoice_date': datetime.date(2025, 10, 14), 'registration_date': None, 'total_taxable_amount': Decimal('115.50'), 'total_vat_amount': Decimal('25.41'), 'total_gross_amount': Decimal('140.91'), 'currency': 'EUR', 'doc_status': 'imported', 'payment_status': 'unpaid', 'due_date': datetime.date(2026, 1, 14), 'file_name': 'FATTURA_0000661-PR_20251014_05134460657_AZ AGRICOLTURA S.R.L.xml', 'file_hash': None, 'import_source': None, 'imported_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 503340), 'notes_internal': None, 'created_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 503344), 'updated_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 503346)}]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "extra": {"taskName": null, "component": "import_service", "file_name": "FATTURA_0000661-PR_20251014_05134460657_AZ AGRICOLTURA S.R.L.xml", "status": "error"}}
{"timestamp": "2025-11-26T11:25:46.678066Z", "level": "ERROR", "logger": "app", "module": "import_service", "message": "Errore durante la transazione di import.", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\npymysql.err.IntegrityError: (1048, \"Column 'supplier_id' cannot be null\")\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\app\\services\\import_service.py\", line 247, in run_import\n    db.session.commit()\n    ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\scoping.py\", line 597, in commit\n    return self._proxied.commit()\n           ~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\nsqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, \"Column 'supplier_id' cannot be null\")\n[SQL: INSERT INTO invoices (supplier_id, invoice_number, invoice_series, invoice_date, registration_date, total_taxable_amount, total_vat_amount, total_gross_amount, currency, doc_status, payment_status, due_date, file_name, file_hash, import_source, imported_at, notes_internal, created_at, updated_at) VALUES (%(supplier_id)s, %(invoice_number)s, %(invoice_series)s, %(invoice_date)s, %(registration_date)s, %(total_taxable_amount)s, %(total_vat_amount)s, %(total_gross_amount)s, %(currency)s, %(doc_status)s, %(payment_status)s, %(due_date)s, %(file_name)s, %(file_hash)s, %(import_source)s, %(imported_at)s, %(notes_internal)s, %(created_at)s, %(updated_at)s)]\n[parameters: {'supplier_id': None, 'invoice_number': '003371', 'invoice_series': None, 'invoice_date': datetime.date(2025, 10, 6), 'registration_date': None, 'total_taxable_amount': Decimal('147.20'), 'total_vat_amount': Decimal('32.38'), 'total_gross_amount': Decimal('179.58'), 'currency': 'EUR', 'doc_status': 'imported', 'payment_status': 'unpaid', 'due_date': datetime.date(2025, 11, 5), 'file_name': 'FATTURA_003371_20251006_02624490658_D-ANIELLO GENNARO - C. S.N.C. DI D-ANIELLO CIRO.xml', 'file_hash': None, 'import_source': None, 'imported_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 674850), 'notes_internal': None, 'created_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 674853), 'updated_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 674855)}]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "extra": {"taskName": null, "component": "import_service", "file_name": "FATTURA_003371_20251006_02624490658_D-ANIELLO GENNARO - C. S.N.C. DI D-ANIELLO CIRO.xml", "status": "error"}}
{"timestamp": "2025-11-26T11:25:46.735006Z", "level": "ERROR", "logger": "app", "module": "import_service", "message": "Errore durante la transazione di import.", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\npymysql.err.IntegrityError: (1048, \"Column 'supplier_id' cannot be null\")\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\app\\services\\import_service.py\", line 247, in run_import\n    db.session.commit()\n    ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\scoping.py\", line 597, in commit\n    return self._proxied.commit()\n           ~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\nsqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, \"Column 'supplier_id' cannot be null\")\n[SQL: INSERT INTO invoices (supplier_id, invoice_number, invoice_series, invoice_date, registration_date, total_taxable_amount, total_vat_amount, total_gross_amount, currency, doc_status, payment_status, due_date, file_name, file_hash, import_source, imported_at, notes_internal, created_at, updated_at) VALUES (%(supplier_id)s, %(invoice_number)s, %(invoice_series)s, %(invoice_date)s, %(registration_date)s, %(total_taxable_amount)s, %(total_vat_amount)s, %(total_gross_amount)s, %(currency)s, %(doc_status)s, %(payment_status)s, %(due_date)s, %(file_name)s, %(file_hash)s, %(import_source)s, %(imported_at)s, %(notes_internal)s, %(created_at)s, %(updated_at)s)]\n[parameters: {'supplier_id': None, 'invoice_number': '003615', 'invoice_series': None, 'invoice_date': datetime.date(2025, 10, 17), 'registration_date': None, 'total_taxable_amount': Decimal('50.00'), 'total_vat_amount': Decimal('11.00'), 'total_gross_amount': Decimal('61.00'), 'currency': 'EUR', 'doc_status': 'imported', 'payment_status': 'unpaid', 'due_date': datetime.date(2025, 11, 16), 'file_name': 'FATTURA_003615_20251017_02624490658_D-ANIELLO GENNARO - C. S.N.C. DI D-ANIELLO CIRO.xml', 'file_hash': None, 'import_source': None, 'imported_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 731600), 'notes_internal': None, 'created_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 731602), 'updated_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 731604)}]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "extra": {"taskName": null, "component": "import_service", "file_name": "FATTURA_003615_20251017_02624490658_D-ANIELLO GENNARO - C. S.N.C. DI D-ANIELLO CIRO.xml", "status": "error"}}
{"timestamp": "2025-11-26T11:25:46.778561Z", "level": "ERROR", "logger": "app", "module": "import_service", "message": "Errore durante la transazione di import.", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\npymysql.err.IntegrityError: (1048, \"Column 'supplier_id' cannot be null\")\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\app\\services\\import_service.py\", line 247, in run_import\n    db.session.commit()\n    ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\scoping.py\", line 597, in commit\n    return self._proxied.commit()\n           ~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\nsqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, \"Column 'supplier_id' cannot be null\")\n[SQL: INSERT INTO invoices (supplier_id, invoice_number, invoice_series, invoice_date, registration_date, total_taxable_amount, total_vat_amount, total_gross_amount, currency, doc_status, payment_status, due_date, file_name, file_hash, import_source, imported_at, notes_internal, created_at, updated_at) VALUES (%(supplier_id)s, %(invoice_number)s, %(invoice_series)s, %(invoice_date)s, %(registration_date)s, %(total_taxable_amount)s, %(total_vat_amount)s, %(total_gross_amount)s, %(currency)s, %(doc_status)s, %(payment_status)s, %(due_date)s, %(file_name)s, %(file_hash)s, %(import_source)s, %(imported_at)s, %(notes_internal)s, %(created_at)s, %(updated_at)s)]\n[parameters: {'supplier_id': None, 'invoice_number': '1/3524', 'invoice_series': None, 'invoice_date': datetime.date(2025, 9, 30), 'registration_date': None, 'total_taxable_amount': Decimal('565.60'), 'total_vat_amount': Decimal('124.43'), 'total_gross_amount': Decimal('690.03'), 'currency': 'EUR', 'doc_status': 'imported', 'payment_status': 'unpaid', 'due_date': datetime.date(2025, 9, 30), 'file_name': 'FATTURA_1-3524_20250930_02106670652_ALFREDO BUONINFANTE - C. SPA.xml', 'file_hash': None, 'import_source': None, 'imported_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 775597), 'notes_internal': None, 'created_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 775600), 'updated_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 775601)}]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "extra": {"taskName": null, "component": "import_service", "file_name": "FATTURA_1-3524_20250930_02106670652_ALFREDO BUONINFANTE - C. SPA.xml", "status": "error"}}
{"timestamp": "2025-11-26T11:25:46.828716Z", "level": "ERROR", "logger": "app", "module": "import_service", "message": "Errore durante la transazione di import.", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\npymysql.err.IntegrityError: (1048, \"Column 'supplier_id' cannot be null\")\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\app\\services\\import_service.py\", line 247, in run_import\n    db.session.commit()\n    ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\scoping.py\", line 597, in commit\n    return self._proxied.commit()\n           ~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\nsqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, \"Column 'supplier_id' cannot be null\")\n[SQL: INSERT INTO invoices (supplier_id, invoice_number, invoice_series, invoice_date, registration_date, total_taxable_amount, total_vat_amount, total_gross_amount, currency, doc_status, payment_status, due_date, file_name, file_hash, import_source, imported_at, notes_internal, created_at, updated_at) VALUES (%(supplier_id)s, %(invoice_number)s, %(invoice_series)s, %(invoice_date)s, %(registration_date)s, %(total_taxable_amount)s, %(total_vat_amount)s, %(total_gross_amount)s, %(currency)s, %(doc_status)s, %(payment_status)s, %(due_date)s, %(file_name)s, %(file_hash)s, %(import_source)s, %(imported_at)s, %(notes_internal)s, %(created_at)s, %(updated_at)s)]\n[parameters: {'supplier_id': None, 'invoice_number': '1/35434', 'invoice_series': None, 'invoice_date': datetime.date(2025, 10, 1), 'registration_date': None, 'total_taxable_amount': Decimal('525.00'), 'total_vat_amount': Decimal('115.50'), 'total_gross_amount': Decimal('640.50'), 'currency': 'EUR', 'doc_status': 'imported', 'payment_status': 'unpaid', 'due_date': datetime.date(2025, 10, 1), 'file_name': 'FATTURA_1-35434_20251001_02985610654_ISTITUTO DI VIGILANZA LA TORRE S RL.xml', 'file_hash': None, 'import_source': None, 'imported_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 826264), 'notes_internal': None, 'created_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 826267), 'updated_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 826268)}]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "extra": {"taskName": null, "component": "import_service", "file_name": "FATTURA_1-35434_20251001_02985610654_ISTITUTO DI VIGILANZA LA TORRE S RL.xml", "status": "error"}}
{"timestamp": "2025-11-26T11:25:46.877462Z", "level": "ERROR", "logger": "app", "module": "import_service", "message": "Errore durante la transazione di import.", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\npymysql.err.IntegrityError: (1048, \"Column 'supplier_id' cannot be null\")\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\app\\services\\import_service.py\", line 247, in run_import\n    db.session.commit()\n    ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\scoping.py\", line 597, in commit\n    return self._proxied.commit()\n           ~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\nsqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, \"Column 'supplier_id' cannot be null\")\n[SQL: INSERT INTO invoices (supplier_id, invoice_number, invoice_series, invoice_date, registration_date, total_taxable_amount, total_vat_amount, total_gross_amount, currency, doc_status, payment_status, due_date, file_name, file_hash, import_source, imported_at, notes_internal, created_at, updated_at) VALUES (%(supplier_id)s, %(invoice_number)s, %(invoice_series)s, %(invoice_date)s, %(registration_date)s, %(total_taxable_amount)s, %(total_vat_amount)s, %(total_gross_amount)s, %(currency)s, %(doc_status)s, %(payment_status)s, %(due_date)s, %(file_name)s, %(file_hash)s, %(import_source)s, %(imported_at)s, %(notes_internal)s, %(created_at)s, %(updated_at)s)]\n[parameters: {'supplier_id': None, 'invoice_number': '1/3816', 'invoice_series': None, 'invoice_date': datetime.date(2025, 10, 20), 'registration_date': None, 'total_taxable_amount': Decimal('484.20'), 'total_vat_amount': Decimal('48.42'), 'total_gross_amount': Decimal('532.62'), 'currency': 'EUR', 'doc_status': 'imported', 'payment_status': 'unpaid', 'due_date': datetime.date(2025, 10, 20), 'file_name': 'FATTURA_1-3816_20251020_02106670652_ALFREDO BUONINFANTE - C. SPA.xml', 'file_hash': None, 'import_source': None, 'imported_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 874926), 'notes_internal': None, 'created_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 874928), 'updated_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 874930)}]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "extra": {"taskName": null, "component": "import_service", "file_name": "FATTURA_1-3816_20251020_02106670652_ALFREDO BUONINFANTE - C. SPA.xml", "status": "error"}}
{"timestamp": "2025-11-26T11:25:46.926301Z", "level": "ERROR", "logger": "app", "module": "import_service", "message": "Errore durante la transazione di import.", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\npymysql.err.IntegrityError: (1048, \"Column 'supplier_id' cannot be null\")\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\app\\services\\import_service.py\", line 247, in run_import\n    db.session.commit()\n    ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\scoping.py\", line 597, in commit\n    return self._proxied.commit()\n           ~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\nsqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, \"Column 'supplier_id' cannot be null\")\n[SQL: INSERT INTO invoices (supplier_id, invoice_number, invoice_series, invoice_date, registration_date, total_taxable_amount, total_vat_amount, total_gross_amount, currency, doc_status, payment_status, due_date, file_name, file_hash, import_source, imported_at, notes_internal, created_at, updated_at) VALUES (%(supplier_id)s, %(invoice_number)s, %(invoice_series)s, %(invoice_date)s, %(registration_date)s, %(total_taxable_amount)s, %(total_vat_amount)s, %(total_gross_amount)s, %(currency)s, %(doc_status)s, %(payment_status)s, %(due_date)s, %(file_name)s, %(file_hash)s, %(import_source)s, %(imported_at)s, %(notes_internal)s, %(created_at)s, %(updated_at)s)]\n[parameters: {'supplier_id': None, 'invoice_number': '1/3979', 'invoice_series': None, 'invoice_date': datetime.date(2025, 10, 31), 'registration_date': None, 'total_taxable_amount': Decimal('572.00'), 'total_vat_amount': Decimal('125.84'), 'total_gross_amount': Decimal('697.84'), 'currency': 'EUR', 'doc_status': 'imported', 'payment_status': 'unpaid', 'due_date': datetime.date(2025, 10, 31), 'file_name': 'FATTURA_1-3979_20251031_02106670652_ALFREDO BUONINFANTE - C. SPA.xml', 'file_hash': None, 'import_source': None, 'imported_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 923276), 'notes_internal': None, 'created_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 923279), 'updated_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 923280)}]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "extra": {"taskName": null, "component": "import_service", "file_name": "FATTURA_1-3979_20251031_02106670652_ALFREDO BUONINFANTE - C. SPA.xml", "status": "error"}}
{"timestamp": "2025-11-26T11:25:46.988810Z", "level": "ERROR", "logger": "app", "module": "import_service", "message": "Errore durante la transazione di import.", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\npymysql.err.IntegrityError: (1048, \"Column 'supplier_id' cannot be null\")\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\app\\services\\import_service.py\", line 247, in run_import\n    db.session.commit()\n    ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\scoping.py\", line 597, in commit\n    return self._proxied.commit()\n           ~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\nsqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, \"Column 'supplier_id' cannot be null\")\n[SQL: INSERT INTO invoices (supplier_id, invoice_number, invoice_series, invoice_date, registration_date, total_taxable_amount, total_vat_amount, total_gross_amount, currency, doc_status, payment_status, due_date, file_name, file_hash, import_source, imported_at, notes_internal, created_at, updated_at) VALUES (%(supplier_id)s, %(invoice_number)s, %(invoice_series)s, %(invoice_date)s, %(registration_date)s, %(total_taxable_amount)s, %(total_vat_amount)s, %(total_gross_amount)s, %(currency)s, %(doc_status)s, %(payment_status)s, %(due_date)s, %(file_name)s, %(file_hash)s, %(import_source)s, %(imported_at)s, %(notes_internal)s, %(created_at)s, %(updated_at)s)]\n[parameters: {'supplier_id': None, 'invoice_number': '15928539', 'invoice_series': None, 'invoice_date': datetime.date(2025, 10, 6), 'registration_date': None, 'total_taxable_amount': Decimal('6831.00'), 'total_vat_amount': Decimal('683.10'), 'total_gross_amount': Decimal('7514.10'), 'currency': 'EUR', 'doc_status': 'imported', 'payment_status': 'unpaid', 'due_date': datetime.date(2025, 12, 31), 'file_name': 'FATTURA_15928539_20251006_04503990964_RIJK ZWAAN ITALIA S.R.L.xml', 'file_hash': None, 'import_source': None, 'imported_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 985008), 'notes_internal': None, 'created_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 985016), 'updated_at': datetime.datetime(2025, 11, 26, 11, 25, 46, 985019)}]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "extra": {"taskName": null, "component": "import_service", "file_name": "FATTURA_15928539_20251006_04503990964_RIJK ZWAAN ITALIA S.R.L.xml", "status": "error"}}
{"timestamp": "2025-11-26T11:25:47.057074Z", "level": "ERROR", "logger": "app", "module": "import_service", "message": "Errore durante la transazione di import.", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\npymysql.err.IntegrityError: (1048, \"Column 'supplier_id' cannot be null\")\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\app\\services\\import_service.py\", line 247, in run_import\n    db.session.commit()\n    ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\scoping.py\", line 597, in commit\n    return self._proxied.commit()\n           ~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\nsqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, \"Column 'supplier_id' cannot be null\")\n[SQL: INSERT INTO invoices (supplier_id, invoice_number, invoice_series, invoice_date, registration_date, total_taxable_amount, total_vat_amount, total_gross_amount, currency, doc_status, payment_status, due_date, file_name, file_hash, import_source, imported_at, notes_internal, created_at, updated_at) VALUES (%(supplier_id)s, %(invoice_number)s, %(invoice_series)s, %(invoice_date)s, %(registration_date)s, %(total_taxable_amount)s, %(total_vat_amount)s, %(total_gross_amount)s, %(currency)s, %(doc_status)s, %(payment_status)s, %(due_date)s, %(file_name)s, %(file_hash)s, %(import_source)s, %(imported_at)s, %(notes_internal)s, %(created_at)s, %(updated_at)s)]\n[parameters: {'supplier_id': None, 'invoice_number': '1690', 'invoice_series': None, 'invoice_date': datetime.date(2025, 9, 30), 'registration_date': None, 'total_taxable_amount': Decimal('368.00'), 'total_vat_amount': Decimal('80.96'), 'total_gross_amount': Decimal('448.96'), 'currency': 'EUR', 'doc_status': 'imported', 'payment_status': 'unpaid', 'due_date': datetime.date(2025, 11, 30), 'file_name': 'FATTURA_1690_20250930_04213040654_C.M.A. S.r.l.xml', 'file_hash': None, 'import_source': None, 'imported_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 53847), 'notes_internal': None, 'created_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 53859), 'updated_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 53861)}]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "extra": {"taskName": null, "component": "import_service", "file_name": "FATTURA_1690_20250930_04213040654_C.M.A. S.r.l.xml", "status": "error"}}
{"timestamp": "2025-11-26T11:25:47.125026Z", "level": "ERROR", "logger": "app", "module": "import_service", "message": "Errore durante la transazione di import.", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\npymysql.err.IntegrityError: (1048, \"Column 'supplier_id' cannot be null\")\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\app\\services\\import_service.py\", line 247, in run_import\n    db.session.commit()\n    ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\scoping.py\", line 597, in commit\n    return self._proxied.commit()\n           ~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\nsqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, \"Column 'supplier_id' cannot be null\")\n[SQL: INSERT INTO invoices (supplier_id, invoice_number, invoice_series, invoice_date, registration_date, total_taxable_amount, total_vat_amount, total_gross_amount, currency, doc_status, payment_status, due_date, file_name, file_hash, import_source, imported_at, notes_internal, created_at, updated_at) VALUES (%(supplier_id)s, %(invoice_number)s, %(invoice_series)s, %(invoice_date)s, %(registration_date)s, %(total_taxable_amount)s, %(total_vat_amount)s, %(total_gross_amount)s, %(currency)s, %(doc_status)s, %(payment_status)s, %(due_date)s, %(file_name)s, %(file_hash)s, %(import_source)s, %(imported_at)s, %(notes_internal)s, %(created_at)s, %(updated_at)s)]\n[parameters: {'supplier_id': None, 'invoice_number': '1972', 'invoice_series': None, 'invoice_date': datetime.date(2025, 10, 31), 'registration_date': None, 'total_taxable_amount': Decimal('444.50'), 'total_vat_amount': Decimal('97.79'), 'total_gross_amount': Decimal('542.29'), 'currency': 'EUR', 'doc_status': 'imported', 'payment_status': 'unpaid', 'due_date': datetime.date(2025, 12, 31), 'file_name': 'FATTURA_1972_20251031_04213040654_C.M.A. S.r.l.xml', 'file_hash': None, 'import_source': None, 'imported_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 122055), 'notes_internal': None, 'created_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 122058), 'updated_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 122059)}]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "extra": {"taskName": null, "component": "import_service", "file_name": "FATTURA_1972_20251031_04213040654_C.M.A. S.r.l.xml", "status": "error"}}
{"timestamp": "2025-11-26T11:25:47.182491Z", "level": "ERROR", "logger": "app", "module": "import_service", "message": "Errore durante la transazione di import.", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\npymysql.err.IntegrityError: (1048, \"Column 'supplier_id' cannot be null\")\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\app\\services\\import_service.py\", line 247, in run_import\n    db.session.commit()\n    ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\scoping.py\", line 597, in commit\n    return self._proxied.commit()\n           ~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\nsqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, \"Column 'supplier_id' cannot be null\")\n[SQL: INSERT INTO invoices (supplier_id, invoice_number, invoice_series, invoice_date, registration_date, total_taxable_amount, total_vat_amount, total_gross_amount, currency, doc_status, payment_status, due_date, file_name, file_hash, import_source, imported_at, notes_internal, created_at, updated_at) VALUES (%(supplier_id)s, %(invoice_number)s, %(invoice_series)s, %(invoice_date)s, %(registration_date)s, %(total_taxable_amount)s, %(total_vat_amount)s, %(total_gross_amount)s, %(currency)s, %(doc_status)s, %(payment_status)s, %(due_date)s, %(file_name)s, %(file_hash)s, %(import_source)s, %(imported_at)s, %(notes_internal)s, %(created_at)s, %(updated_at)s)]\n[parameters: {'supplier_id': None, 'invoice_number': '2025/00346/SPINE', 'invoice_series': None, 'invoice_date': datetime.date(2025, 9, 30), 'registration_date': None, 'total_taxable_amount': Decimal('47.54'), 'total_vat_amount': Decimal('10.46'), 'total_gross_amount': Decimal('58.00'), 'currency': 'EUR', 'doc_status': 'imported', 'payment_status': 'unpaid', 'due_date': None, 'file_name': 'FATTURA_2025-00346-SPINE_20250930_03323180657_ROTRANS S.R.L.xml', 'file_hash': None, 'import_source': None, 'imported_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 180061), 'notes_internal': None, 'created_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 180064), 'updated_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 180066)}]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "extra": {"taskName": null, "component": "import_service", "file_name": "FATTURA_2025-00346-SPINE_20250930_03323180657_ROTRANS S.R.L.xml", "status": "error"}}
{"timestamp": "2025-11-26T11:25:47.243158Z", "level": "ERROR", "logger": "app", "module": "import_service", "message": "Errore durante la transazione di import.", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\npymysql.err.IntegrityError: (1048, \"Column 'supplier_id' cannot be null\")\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\app\\services\\import_service.py\", line 247, in run_import\n    db.session.commit()\n    ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\scoping.py\", line 597, in commit\n    return self._proxied.commit()\n           ~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\nsqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, \"Column 'supplier_id' cannot be null\")\n[SQL: INSERT INTO invoices (supplier_id, invoice_number, invoice_series, invoice_date, registration_date, total_taxable_amount, total_vat_amount, total_gross_amount, currency, doc_status, payment_status, due_date, file_name, file_hash, import_source, imported_at, notes_internal, created_at, updated_at) VALUES (%(supplier_id)s, %(invoice_number)s, %(invoice_series)s, %(invoice_date)s, %(registration_date)s, %(total_taxable_amount)s, %(total_vat_amount)s, %(total_gross_amount)s, %(currency)s, %(doc_status)s, %(payment_status)s, %(due_date)s, %(file_name)s, %(file_hash)s, %(import_source)s, %(imported_at)s, %(notes_internal)s, %(created_at)s, %(updated_at)s)]\n[parameters: {'supplier_id': None, 'invoice_number': '2025/00500/SPINE', 'invoice_series': None, 'invoice_date': datetime.date(2025, 10, 31), 'registration_date': None, 'total_taxable_amount': Decimal('133.61'), 'total_vat_amount': Decimal('29.39'), 'total_gross_amount': Decimal('163.00'), 'currency': 'EUR', 'doc_status': 'imported', 'payment_status': 'unpaid', 'due_date': None, 'file_name': 'FATTURA_2025-00500-SPINE_20251031_03323180657_ROTRANS S.R.L.xml', 'file_hash': None, 'import_source': None, 'imported_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 240819), 'notes_internal': None, 'created_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 240822), 'updated_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 240824)}]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "extra": {"taskName": null, "component": "import_service", "file_name": "FATTURA_2025-00500-SPINE_20251031_03323180657_ROTRANS S.R.L.xml", "status": "error"}}
{"timestamp": "2025-11-26T11:25:47.298202Z", "level": "ERROR", "logger": "app", "module": "import_service", "message": "Errore durante la transazione di import.", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\npymysql.err.IntegrityError: (1048, \"Column 'supplier_id' cannot be null\")\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\app\\services\\import_service.py\", line 247, in run_import\n    db.session.commit()\n    ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\scoping.py\", line 597, in commit\n    return self._proxied.commit()\n           ~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\nsqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, \"Column 'supplier_id' cannot be null\")\n[SQL: INSERT INTO invoices (supplier_id, invoice_number, invoice_series, invoice_date, registration_date, total_taxable_amount, total_vat_amount, total_gross_amount, currency, doc_status, payment_status, due_date, file_name, file_hash, import_source, imported_at, notes_internal, created_at, updated_at) VALUES (%(supplier_id)s, %(invoice_number)s, %(invoice_series)s, %(invoice_date)s, %(registration_date)s, %(total_taxable_amount)s, %(total_vat_amount)s, %(total_gross_amount)s, %(currency)s, %(doc_status)s, %(payment_status)s, %(due_date)s, %(file_name)s, %(file_hash)s, %(import_source)s, %(imported_at)s, %(notes_internal)s, %(created_at)s, %(updated_at)s)]\n[parameters: {'supplier_id': None, 'invoice_number': '2025  1879', 'invoice_series': None, 'invoice_date': datetime.date(2025, 10, 31), 'registration_date': None, 'total_taxable_amount': Decimal('92.00'), 'total_vat_amount': Decimal('20.24'), 'total_gross_amount': Decimal('112.24'), 'currency': 'EUR', 'doc_status': 'imported', 'payment_status': 'unpaid', 'due_date': datetime.date(2025, 10, 31), 'file_name': 'FATTURA_2025-1879_20251031_05614050655_ANALISIS SRL.xml', 'file_hash': None, 'import_source': None, 'imported_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 295484), 'notes_internal': None, 'created_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 295487), 'updated_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 295488)}]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "extra": {"taskName": null, "component": "import_service", "file_name": "FATTURA_2025-1879_20251031_05614050655_ANALISIS SRL.xml", "status": "error"}}
{"timestamp": "2025-11-26T11:25:47.362067Z", "level": "ERROR", "logger": "app", "module": "import_service", "message": "Errore durante la transazione di import.", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\npymysql.err.IntegrityError: (1048, \"Column 'supplier_id' cannot be null\")\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\app\\services\\import_service.py\", line 247, in run_import\n    db.session.commit()\n    ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\scoping.py\", line 597, in commit\n    return self._proxied.commit()\n           ~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\nsqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, \"Column 'supplier_id' cannot be null\")\n[SQL: INSERT INTO invoices (supplier_id, invoice_number, invoice_series, invoice_date, registration_date, total_taxable_amount, total_vat_amount, total_gross_amount, currency, doc_status, payment_status, due_date, file_name, file_hash, import_source, imported_at, notes_internal, created_at, updated_at) VALUES (%(supplier_id)s, %(invoice_number)s, %(invoice_series)s, %(invoice_date)s, %(registration_date)s, %(total_taxable_amount)s, %(total_vat_amount)s, %(total_gross_amount)s, %(currency)s, %(doc_status)s, %(payment_status)s, %(due_date)s, %(file_name)s, %(file_hash)s, %(import_source)s, %(imported_at)s, %(notes_internal)s, %(created_at)s, %(updated_at)s)]\n[parameters: {'supplier_id': None, 'invoice_number': '2092/FE', 'invoice_series': None, 'invoice_date': datetime.date(2025, 9, 30), 'registration_date': None, 'total_taxable_amount': Decimal('1500.00'), 'total_vat_amount': Decimal('150.00'), 'total_gross_amount': Decimal('1650.00'), 'currency': 'EUR', 'doc_status': 'imported', 'payment_status': 'unpaid', 'due_date': datetime.date(2025, 11, 30), 'file_name': 'FATTURA_2092-FE_20250930_04259010405_MARALDI SEMENTI SRL.xml', 'file_hash': None, 'import_source': None, 'imported_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 359421), 'notes_internal': None, 'created_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 359424), 'updated_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 359425)}]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "extra": {"taskName": null, "component": "import_service", "file_name": "FATTURA_2092-FE_20250930_04259010405_MARALDI SEMENTI SRL.xml", "status": "error"}}
{"timestamp": "2025-11-26T11:25:47.424632Z", "level": "ERROR", "logger": "app", "module": "import_service", "message": "Errore durante la transazione di import.", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\npymysql.err.IntegrityError: (1048, \"Column 'supplier_id' cannot be null\")\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\Progetto_Database_Acquisti\\app\\services\\import_service.py\", line 247, in run_import\n    db.session.commit()\n    ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\scoping.py\", line 597, in commit\n    return self._proxied.commit()\n           ~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2030, in commit\n    trans.commit(_to_root=True)\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in commit\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1311, in commit\n    self._prepare_impl()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"<string>\", line 2, in _prepare_impl\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1286, in _prepare_impl\n    self.session.flush()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4331, in flush\n    self._flush(objects)\n    ~~~~~~~~~~~^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4466, in _flush\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 4427, in _flush\n    flush_context.execute()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    ~~~~~~~~~~~^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self.mapper,\n        ^^^^^^^^^^^^\n        uow.states_for_mapper_hierarchy(self.mapper, False, False),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        uow,\n        ^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        base_mapper,\n        ^^^^^^^^^^^^\n    ...<3 lines>...\n        insert,\n        ^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n        statement,\n        params,\n        execution_options=execution_options,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 153, in execute\n    result = self._query(query)\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\cursors.py\", line 322, in _query\n    conn.query(q)\n    ~~~~~~~~~~^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 575, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 826, in _read_query_result\n    result.read()\n    ~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 1203, in read\n    first_packet = self.connection._read_packet()\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\connections.py\", line 782, in _read_packet\n    packet.raise_for_error()\n    ~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\protocol.py\", line 219, in raise_for_error\n    err.raise_mysql_exception(self._data)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File \"D:\\Progetto_Database_Acquisti\\.venv\\Lib\\site-packages\\pymysql\\err.py\", line 150, in raise_mysql_exception\n    raise errorclass(errno, errval)\nsqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1048, \"Column 'supplier_id' cannot be null\")\n[SQL: INSERT INTO invoices (supplier_id, invoice_number, invoice_series, invoice_date, registration_date, total_taxable_amount, total_vat_amount, total_gross_amount, currency, doc_status, payment_status, due_date, file_name, file_hash, import_source, imported_at, notes_internal, created_at, updated_at) VALUES (%(supplier_id)s, %(invoice_number)s, %(invoice_series)s, %(invoice_date)s, %(registration_date)s, %(total_taxable_amount)s, %(total_vat_amount)s, %(total_gross_amount)s, %(currency)s, %(doc_status)s, %(payment_status)s, %(due_date)s, %(file_name)s, %(file_hash)s, %(import_source)s, %(imported_at)s, %(notes_internal)s, %(created_at)s, %(updated_at)s)]\n[parameters: {'supplier_id': None, 'invoice_number': '2525/FE', 'invoice_series': None, 'invoice_date': datetime.date(2025, 10, 31), 'registration_date': None, 'total_taxable_amount': Decimal('1960.00'), 'total_vat_amount': Decimal('196.00'), 'total_gross_amount': Decimal('2156.00'), 'currency': 'EUR', 'doc_status': 'imported', 'payment_status': 'unpaid', 'due_date': datetime.date(2025, 12, 31), 'file_name': 'FATTURA_2525-FE_20251031_04259010405_MARALDI SEMENTI SRL.xml', 'file_hash': None, 'import_source': None, 'imported_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 422182), 'notes_internal': None, 'created_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 422185), 'updated_at': datetime.datetime(2025, 11, 26, 11, 25, 47, 422186)}]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "extra": {"taskName": null, "component": "import_service", "file_name": "FATTURA_2525-FE_20251031_04259010405_MARALDI SEMENTI SRL.xml", "status": "error"}}
{"timestamp": "2025-11-26T11:25:47.453965Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:25:47] \"\u001b[32mPOST /import/run HTTP/1.1\u001b[0m\" 302 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:25:47.483561Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:25:47] \"GET /import/run HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:25:47.736729Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:25:47] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:25:47.748288Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:25:47] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:25:47.772123Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:25:47] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:25:47.788594Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:25:47] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:25:47.790286Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:25:47] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:07.300997Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:07] \"GET /invoices/ HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:07.382990Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:07] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:07.385762Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:07] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:07.388309Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:07] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:07.398309Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:07] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:07.398467Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:07] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:09.198207Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:09] \"GET /suppliers/ HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:09.271561Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:09] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:09.272234Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:09] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:09.272981Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:09] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:09.287394Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:09] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:09.287568Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:09] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:09.951896Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:09] \"GET /categories/ HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:10.031536Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:10] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:10.033053Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:10] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:10.033509Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:10] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:10.034211Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:10] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:10.034315Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:10] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:10.035883Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:10] \"\u001b[36mGET /static/js/categories_assign.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:10.838406Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:10] \"GET /import/run HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:10.904773Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:10] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:10.907951Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:10] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:10.916877Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:10] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:10.923012Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:10] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:10.933516Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:10] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:54.593427Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:54] \"GET /suppliers/ HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:54.671866Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:54] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:54.673279Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:54] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:54.679973Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:54] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:54.680463Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:54] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:54.687069Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:54] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:56.593933Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:56] \"GET /categories/ HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:56.660993Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:56] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:56.666034Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:56] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:56.675107Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:56] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:56.687350Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:56] \"\u001b[36mGET /static/js/categories_assign.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:56.706194Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:56] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:56.707261Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:56] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:57.559994Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:57] \"GET /suppliers/ HTTP/1.1\" 200 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:57.628237Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:57] \"\u001b[36mGET /static/css/main.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:57.636185Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:57] \"\u001b[36mGET /static/css/tables.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:57.640476Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:57] \"\u001b[36mGET /static/css/forms.css HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:57.662311Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:57] \"\u001b[36mGET /static/js/main.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T11:26:57.689012Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": "127.0.0.1 - - [26/Nov/2025 12:26:57] \"\u001b[36mGET /static/js/filters.js HTTP/1.1\u001b[0m\" 304 -", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T12:48:32.366437Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": " * Detected change in 'D:\\\\Progetto_Database_Acquisti\\\\app\\\\repositories\\\\supplier_repo.py', reloading", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T12:48:33.267418Z", "level": "INFO", "logger": "werkzeug", "module": "_internal", "message": " * Restarting with stat", "extra": {"taskName": null}}
{"timestamp": "2025-11-26T12:48:35.385679Z", "level": "INFO", "logger": "app", "module": "extensions", "message": "Logging JSON inizializzato.", "extra": {"taskName": null, "component": "logging", "log_path": "D:\\Progetto_Database_Acquisti\\logs\\app.log", "level": "DEBUG"}}
{"timestamp": "2025-11-26T12:56:24.982297Z", "level": "INFO", "logger": "app", "module": "extensions", "message": "Logging JSON inizializzato.", "extra": {"taskName": null, "component": "logging", "log_path": "D:\\Progetto_Database_Acquisti\\logs\\app.log", "level": "DEBUG"}}
{"timestamp": "2025-11-26T12:56:48.336202Z", "level": "INFO", "logger": "app", "module": "extensions", "message": "Logging JSON inizializzato.", "extra": {"taskName": null, "component": "logging", "log_path": "D:\\Progetto_Database_Acquisti\\logs\\app.log", "level": "DEBUG"}}
